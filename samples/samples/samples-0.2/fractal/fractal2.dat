/*
 Fractal examples
*/

// Target pixel
{
  name = background_point
  type = MODIFICATOR_POINT_SINGLE

  // Base dust background (from fractal generator)
  {
    type = MODIFICATOR_POINT_OPBOX

    color_min = #0
    color_max = #ffffff

    /* Fractal pushes to stack:
      PARAM_PREV_2 - intenzity (light)
      PARAM_PREV_1 - local height
      PARAM_PREV_0 - height
    */
    
    pixel_color_final = (color_max - color_min)*PARAM_PREV_1
  }
}

{
  name = background_fractal
  type = MODIFICATOR_FRACTAL
  modificator_slave = background_point

/* Fractak hurst coeficient
*/
  fractal_hurst = 0.4

/* Try to change to:

  MID_POINT
  LINE_MIN
  LINE_MAX
  LINE_CENTER
  LINE_PRIORITY_HIGH
  LINE_PRIORITY_LOW
  LINE_RANGE_HIGH
  LINE_RANGE_LOW
  LINE_RANDOM
*/

  interpolation = LINE_MAX
}


// Mesh generator
{
  name = forest_generator
  type = GENERATOR_MESH

  modificator = background_fractal
  modificator_target = TEXTURE
}

{
  name = generator_launcher
  type = GENERATOR_LAUNCHER

  generator_mesh = forest_generator
}
